!function(n){var t={};function e(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)e.d(o,r,function(t){return n[t]}.bind(null,r));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=3)}([function(n,t,e){t.loadScript=e(1),t.loadScriptPromised=e(2)},function(n,t){n.exports=function(n,t,e){var o,r,i=document;r=i.createElement("script"),o=i.getElementsByTagName("script")[0],e&&Object.keys(e).forEach((function(n){r[n]=e[n]})),r.async=1,r.src=n,r.onload=function(){t()},r.onerror=function(){t(new Error("failed to load: "+n))},o.parentNode.insertBefore(r,o)}},function(n,t){n.exports=function(n,t){var e,o,r=document;return new Promise((function(i,u){o=r.createElement("script"),e=r.getElementsByTagName("script")[0],t&&Object.keys(t).forEach((function(n){o[n]=t[n]})),o.async=1,o.src=n,o.onload=function(){i()},o.onerror=function(){u(new Error("failed to load: "+n))},e.parentNode.insertBefore(o,e)}))}},function(n,t,e){"use strict";e.r(t),e.d(t,"init",(function(){return a})),e.d(t,"attachSoundCloudAnalytics",(function(){return f}));var o,r=e(0),i=e.n(r),u=!0;function d(n,t,e,r){if(u){var i=function(){if(o)return o;"function"==typeof window.gtag?o=c.GlobalSiteTag:"function"==typeof window.ga?o=c.GA:"_gaq"in window&&"function"==typeof window._gaq.push&&(o=c.Legacy);return o||(u=!1,null)}();i&&i.event(n,t,e,r)}}var c={GlobalSiteTag:{event:function(n,t,e,o){window.gtag("event",t,{event_category:n,event_label:e,value:o})}},GA:{event:function(n,t,e,o){window.ga("send","event",n,t,e)}},Legacy:{event:function(n,t,e,o){window._gaq.push(["_trackEvent",n,t,e])}}},s="SC"in window&&"function"==typeof window.SC.Widget?window.SC.Widget:null;function a(){return new Promise((function(n,t){var e=function(){var t=document.getElementsByTagName("iframe"),e=[];p(t,(function(n){n.hasAttribute("src")&&n.getAttribute("src").includes("soundcloud.com")&&e.push(n)})),e.length>0&&p(e,(function(n){f(n)})),n()};s?e():i.a.loadScript("https://w.soundcloud.com/player/api.js",(function(){s=s||window.SC.Widget,e()}),t)}))}function f(n){if(n){var t=n.getAttribute("data-sia"),e=n.getAttribute("src");if(t&&t===e)return!1;n.setAttribute("data-sia",e);var o,r=s(n),i=s.Events,u=!1,c="",a=0,f={};r.bind(i.READY,(function(){})),r.bind(i.ERROR,(function(){d("SoundCloud","Error",c)})),r.bind(i.PLAY_PROGRESS,(function(n){o&&o.id===n.soundId&&function(n,t){if("number"!=typeof t.relativePosition)return;var e;n.progress=function(n){return Math.round(100*n.relativePosition)}(t),n.progress>=99&&n.progstep<4?(e="4/4",n.progstep=4):n.progress>=75&&n.progstep<3?(e="3/4",n.progstep=3):n.progress>=50&&n.progstep<2?(e="2/4",n.progstep=2):n.progress>=25&&n.progstep<1&&(e="1/4",n.progstep=1);"string"==typeof e&&(n.scrubbed&&(e+=" with scrubbing"),d("SoundCloud","Progress ".concat(e),n.title))}(o,n),u||(u=!0,setTimeout((function(){u=!1,r.getCurrentSound((function(n){a!==n.id&&(c=n.title,a=n.id,f={})}))}),0===a?0:2500))})),r.bind(i.PLAY,(function(){r.getCurrentSound((function(n){c=n.title,a=n.id,!(o=l(f,n.title,n.id)).started||o.finished?(o.started=!0,o.finished=!1,o.paused=!1,o.scrubbed=!1,o.progress=0,o.progstep=0,d("SoundCloud","Playback started",c)):o.paused&&(o.paused=!1,d("SoundCloud","Playback resumed",c))}))})),r.bind(i.PAUSE,(function(){o=l(f,c,a),r.getCurrentSound((function(n){n.id!==o.id||o.finished||(o.paused=!0,d("SoundCloud","Playback paused",c))}))})),r.bind(i.SEEK,(function(n){(o=l(f,c,a)).scrubbed||o.paused||o.finished||(o.scrubbed=!0,d("SoundCloud","Playback scrubbed",c))})),r.bind(i.FINISH,(function(){(o=l(f,c,a)).finished||(o.finished=!0,d("SoundCloud",o.scrubbed?"Played in full with scrubbing":"Played in full",c))}))}}function l(n,t,e){return n.hasOwnProperty(t)?0===n[t].id&&(n[t].id=e):n[t]={title:t,id:e,started:!1,paused:!1,scrubbed:!1,finished:!1,progress:0,progstep:0},n[t]}function p(n,t){for(var e=0,o=n.length;e<o;++e)t(n[e])}}]);
//# sourceMappingURL=sia.min.js.map