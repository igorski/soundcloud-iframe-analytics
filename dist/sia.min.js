!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=3)}([function(n,e,t){e.loadScript=t(1),e.loadScriptPromised=t(2)},function(n,e){n.exports=function(n,e,t){var r,o,i=document;o=i.createElement("script"),r=i.getElementsByTagName("script")[0],t&&Object.keys(t).forEach((function(n){o[n]=t[n]})),o.async=1,o.src=n,o.onload=function(){e()},o.onerror=function(){e(new Error("failed to load: "+n))},r.parentNode.insertBefore(o,r)}},function(n,e){n.exports=function(n,e){var t,r,o=document;return new Promise((function(i,u){r=o.createElement("script"),t=o.getElementsByTagName("script")[0],e&&Object.keys(e).forEach((function(n){r[n]=e[n]})),r.async=1,r.src=n,r.onload=function(){i()},r.onerror=function(){u(new Error("failed to load: "+n))},t.parentNode.insertBefore(r,t)}))}},function(n,e,t){"use strict";t.r(e),t.d(e,"init",(function(){return s})),t.d(e,"attachSoundCloudAnalytics",(function(){return f}));var r,o=t(0),i=t.n(o),u=!0;function d(n,e,t,o){if(u){var i=function(){if(r)return r;"function"==typeof window.gtag?r=c.GlobalSiteTag:"function"==typeof window.ga?r=c.GA:"_gaq"in window&&"function"==typeof window._gaq.push&&(r=c.Legacy);return r||(u=!1,null)}();i&&i.event(n,e,t,o)}}var c={GlobalSiteTag:{event:function(n,e,t,r){window.gtag("event",e,{event_category:n,event_label:t,value:r})}},GA:{event:function(n,e,t,r){window.ga("send","event",n,e,t)}},Legacy:{event:function(n,e,t,r){window._gaq.push(["_trackEvent",n,e,t])}}},a="SC"in window&&"function"==typeof window.SC.Widget?window.SC.Widget:null;function s(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(e,t){var r=document.getElementsByTagName("iframe"),o=[];if(p(r,(function(n){n.hasAttribute("src")&&n.getAttribute("src").includes("soundcloud.com")&&o.push(n)})),n||o.length){var u=function(){var n=[];p(o,(function(e){n.push(f(e))})),e(n.filter(Boolean))};a?u():i.a.loadScript("https://w.soundcloud.com/player/api.js",(function(){a=a||window.SC.Widget,u()}),t)}else e([])}))}function f(n){if(!n)return null;var e,t=n.getAttribute("data-sia"),r=n.getAttribute("src");if(t&&t===r)return!1;n.setAttribute("data-sia",r);try{e=a(n)}catch(n){return null}var o,i=a.Events,u=!1,c="",s=0,f={};return e.bind(i.ERROR,(function(){d("SoundCloud","Error",c)})),e.bind(i.PLAY_PROGRESS,(function(n){o&&o.id===n.soundId&&function(n,e){if("number"!=typeof e.relativePosition)return;var t;n.progress=function(n){return Math.round(100*n.relativePosition)}(e),n.progress>=99&&n.progstep<4?(t="4/4",n.progstep=4):n.progress>=75&&n.progstep<3?(t="3/4",n.progstep=3):n.progress>=50&&n.progstep<2?(t="2/4",n.progstep=2):n.progress>=25&&n.progstep<1&&(t="1/4",n.progstep=1);"string"==typeof t&&(n.scrubbed&&(t+=" with scrubbing"),d("SoundCloud","Progress ".concat(t),n.title))}(o,n),u||(u=!0,setTimeout((function(){u=!1,e.getCurrentSound((function(n){s!==n.id&&(c=n.title,s=n.id,f={})}))}),0===s?0:2500))})),e.bind(i.PLAY,(function(){e.getCurrentSound((function(n){c=n.title,s=n.id,!(o=l(f,n.title,n.id)).started||o.finished?(o.started=!0,o.finished=!1,o.paused=!1,o.scrubbed=!1,o.progress=0,o.progstep=0,d("SoundCloud","Playback started",c)):o.paused&&(o.paused=!1,d("SoundCloud","Playback resumed",c))}))})),e.bind(i.PAUSE,(function(){o=l(f,c,s),e.getCurrentSound((function(n){n.id!==o.id||o.finished||(o.paused=!0,d("SoundCloud","Playback paused",c))}))})),e.bind(i.SEEK,(function(n){(o=l(f,c,s)).scrubbed||o.paused||o.finished||(o.scrubbed=!0,d("SoundCloud","Playback scrubbed",c))})),e.bind(i.FINISH,(function(){(o=l(f,c,s)).finished||(o.finished=!0,d("SoundCloud",o.scrubbed?"Played in full with scrubbing":"Played in full",c))})),{element:n,widget:e,dispose:function(){[i.ERROR,i.PLAY_PROGRESS,i.PLAY,i.PAUSE,i.SEEK,i.FINISH].forEach((function(n){e.unbind(n)})),n.removeAttribute("data-sia")}}}function l(n,e,t){return n.hasOwnProperty(e)?0===n[e].id&&(n[e].id=t):n[e]={title:e,id:t,started:!1,paused:!1,scrubbed:!1,finished:!1,progress:0,progstep:0},n[e]}function p(n,e){for(var t=0,r=n.length;t<r;++t)e(n[t])}}]);
//# sourceMappingURL=sia.min.js.map