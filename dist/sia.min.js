!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=3)}([function(n,t,e){t.loadScript=e(1),t.loadScriptPromised=e(2)},function(n,t){n.exports=function(n,t,e){var r,o,i=document;o=i.createElement("script"),r=i.getElementsByTagName("script")[0],e&&Object.keys(e).forEach((function(n){o[n]=e[n]})),o.async=1,o.src=n,o.onload=function(){t()},o.onerror=function(){t(new Error("failed to load: "+n))},r.parentNode.insertBefore(o,r)}},function(n,t){n.exports=function(n,t){var e,r,o=document;return new Promise((function(i,u){r=o.createElement("script"),e=o.getElementsByTagName("script")[0],t&&Object.keys(t).forEach((function(n){r[n]=t[n]})),r.async=1,r.src=n,r.onload=function(){i()},r.onerror=function(){u(new Error("failed to load: "+n))},e.parentNode.insertBefore(r,e)}))}},function(n,t,e){"use strict";e.r(t),e.d(t,"init",(function(){return s})),e.d(t,"attachSoundCloudAnalytics",(function(){return f}));var r,o=e(0),i=e.n(o),u=!0;function d(n,t,e,o){if(u){var i=function(){if(r)return r;"function"==typeof window.gtag?r=c.GlobalSiteTag:"function"==typeof window.ga?r=c.GA:"_gaq"in window&&"function"==typeof window._gaq.push&&(r=c.Legacy);return r||(u=!1,null)}();i&&i.event(n,t,e,o)}}var c={GlobalSiteTag:{event:function(n,t,e,r){window.gtag("event",t,{event_category:n,event_label:e,value:r})}},GA:{event:function(n,t,e,r){window.ga("send","event",n,t,e)}},Legacy:{event:function(n,t,e,r){window._gaq.push(["_trackEvent",n,t,e])}}},a="SC"in window&&"function"==typeof window.SC.Widget?window.SC.Widget:null;function s(){return new Promise((function(n,t){var e=function(){var t=document.getElementsByTagName("iframe"),e=[];p(t,(function(n){n.hasAttribute("src")&&n.getAttribute("src").includes("soundcloud.com")&&e.push(n)}));var r=[];p(e,(function(n){r.push(f(n))})),n(r.filter(Boolean))};a?e():i.a.loadScript("https://w.soundcloud.com/player/api.js",(function(){a=a||window.SC.Widget,e()}),t)}))}function f(n){if(!n)return null;var t,e=n.getAttribute("data-sia"),r=n.getAttribute("src");if(e&&e===r)return!1;n.setAttribute("data-sia",r);try{t=a(n)}catch(n){return null}var o,i=a.Events,u=!1,c="",s=0,f={};return t.bind(i.ERROR,(function(){d("SoundCloud","Error",c)})),t.bind(i.PLAY_PROGRESS,(function(n){o&&o.id===n.soundId&&function(n,t){if("number"!=typeof t.relativePosition)return;var e;n.progress=function(n){return Math.round(100*n.relativePosition)}(t),n.progress>=99&&n.progstep<4?(e="4/4",n.progstep=4):n.progress>=75&&n.progstep<3?(e="3/4",n.progstep=3):n.progress>=50&&n.progstep<2?(e="2/4",n.progstep=2):n.progress>=25&&n.progstep<1&&(e="1/4",n.progstep=1);"string"==typeof e&&(n.scrubbed&&(e+=" with scrubbing"),d("SoundCloud","Progress ".concat(e),n.title))}(o,n),u||(u=!0,setTimeout((function(){u=!1,t.getCurrentSound((function(n){s!==n.id&&(c=n.title,s=n.id,f={})}))}),0===s?0:2500))})),t.bind(i.PLAY,(function(){t.getCurrentSound((function(n){c=n.title,s=n.id,!(o=l(f,n.title,n.id)).started||o.finished?(o.started=!0,o.finished=!1,o.paused=!1,o.scrubbed=!1,o.progress=0,o.progstep=0,d("SoundCloud","Playback started",c)):o.paused&&(o.paused=!1,d("SoundCloud","Playback resumed",c))}))})),t.bind(i.PAUSE,(function(){o=l(f,c,s),t.getCurrentSound((function(n){n.id!==o.id||o.finished||(o.paused=!0,d("SoundCloud","Playback paused",c))}))})),t.bind(i.SEEK,(function(n){(o=l(f,c,s)).scrubbed||o.paused||o.finished||(o.scrubbed=!0,d("SoundCloud","Playback scrubbed",c))})),t.bind(i.FINISH,(function(){(o=l(f,c,s)).finished||(o.finished=!0,d("SoundCloud",o.scrubbed?"Played in full with scrubbing":"Played in full",c))})),{element:n,widget:t,dispose:function(){[i.ERROR,i.PLAY_PROGRESS,i.PLAY,i.PAUSE,i.SEEK,i.FINISH].forEach((function(n){t.unbind(n)})),n.removeAttribute("data-sia")}}}function l(n,t,e){return n.hasOwnProperty(t)?0===n[t].id&&(n[t].id=e):n[t]={title:t,id:e,started:!1,paused:!1,scrubbed:!1,finished:!1,progress:0,progstep:0},n[t]}function p(n,t){for(var e=0,r=n.length;e<r;++e)t(n[e])}}]);
//# sourceMappingURL=sia.min.js.map